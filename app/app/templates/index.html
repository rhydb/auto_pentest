{% import "macros.html" as macros %}
{% extends "base.html" %}
{% block main %}

<aside id="sidebar-multi-level-sidebar" class="fixed top-1 left-0 z-40 w-64 h-screen transition-transform -translate-x-full sm:translate-x-0" aria-label="Sidebar">
   <div class="h-full px-3 py-4 overflow-y-auto bg-slate-50">
      <ul class="space-y-2 font-medium">
         <li>
            <details type="button" class="w-full p-2 text-base text-gray-900 transition duration-75 rounded-lg group hover:bg-slate-100" aria-controls="dropdown-example" data-collapse-toggle="dropdown-example">
                  <summary class="flex-1 ms-3 text-left rtl:text-right whitespace-nowrap">Saved Configurations</summary>
            </details>
            </ul>
         </li>

         <li>
            <details type="button" class="w-full p-2 text-base text-gray-900 transition duration-75 rounded-lg group hover:bg-slate-100" aria-controls="dropdown-example" data-collapse-toggle="dropdown-example">
                  <summary class="flex-1 ms-3 text-left rtl:text-right whitespace-nowrap">Save</summary>

                  <fieldset>
                      <legend>Format</legend>

                      {% for format in config_formats %}
                          <div>
                              <input type="radio" id="{{format}}" name="format" value="{{format|lower}}" />
                              <label for="{{format}}">{{format}}</label>
                          </div>
                      {% endfor %}

                      <button class="border-1 border-gray bg-blue-600 px-4 py-2 text-white rounded my-4">Save</button>
                  </fieldset>

            </details>
            </ul>
         </li>
      </ul>
   </div>
</aside>

<main>
    {% for id, (mod, name) in config.items() %}
        <div id="{{id}}">
            {{ macros.module(id, name, mod) }}
        </div>
    {% endfor %}

    <div class="flex flex-col gap-2">
        {% include 'add_module_form.html' %}
    </div>
</main>
{% endblock %}
