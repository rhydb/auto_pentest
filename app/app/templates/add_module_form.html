<form 
    hx-swap="outerHTML" 
    {% if subpath %}
        hx-post="/module/{{subpath}}"
    {% else %}
        hx-post="/module"
    {% endif %}
>
    {% if error %}
    <div class="text-red-400">{{error}}</div>
    {% endif %}
    <div class="flex items-center gap-3">
        <div class="relative">
            <input onBlur="hideSearchResults(event)" onFocus="showSearchResults(event)" onInput="filterSearch(event)" type="search" id="module-search" name="module" class="bg-slate-200 text-slate-900 border border-slate-300 p-2 rounded focus:ring"/>

            <!-- the results from the search -->
            <div class="absolute top-10 bg-slate-100 w-full my-2 rounded divide-y divide-slate-300 z-50">
                {% for _, name in modules %}
                <div onMouseDown="selectSearchResult(event)" class="hidden p-1 px-2 transition duration-75 hover:bg-slate-200 rounded cursor-pointer">{{name}}</div>
                {% endfor %}
            </div>
        </div>

        <button type="submit" class="border-1 border-gray bg-blue-600 px-4 py-2 text-white rounded my-4">Add module</button>
    </div>
</form>
